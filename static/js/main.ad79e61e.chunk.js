(this["webpackJsonpkeep-scroll-position-on-chat"]=this["webpackJsonpkeep-scroll-position-on-chat"]||[]).push([[0],{1516:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(21),s=n.n(r),o=(n(26),n(2)),i=n(5),u=n.n(i),a=n(7),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(c.useRef)(null),n=Object(c.useRef)(0);return Object(c.useMemo)((function(){if(null!==t&&void 0!==t&&t.current){var e=null===t||void 0===t?void 0:t.current;n.current=(null===e||void 0===e?void 0:e.scrollHeight)-(null===e||void 0===e?void 0:e.scrollTop)}}),Object(a.a)(e)),Object(c.useLayoutEffect)((function(){if(null!==t&&void 0!==t&&t.current){var e=(null===t||void 0===t?void 0:t.current)||{};e.scrollTop=(null===e||void 0===e?void 0:e.scrollHeight)-n.current}}),Object(a.a)(e)),{containerRef:t,previousScrollPosition:n}},d=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){var t=new IntersectionObserver((function(e){var t=Object(o.a)(e,1)[0];return s(t.isIntersecting)}));return e.current&&t.observe(e.current),function(){t.disconnect()}}),[e]),r},f=function(){for(var e=[],t=0;t<20;t++)e.push({id:u.a.random.uuid(),message:u.a.lorem.words(),in:u.a.datatype.boolean()});return e},v=function(){var e=Object(c.useState)(f()),t=Object(o.a)(e,2),n=t[0],r=t[1],s=l([n]).containerRef,i=Object(c.useState)(null),u=Object(o.a)(i,2),a=u[0],v=u[1],j=d({current:a});return Object(c.useEffect)((function(){j&&r((function(e){return f().concat(e)}))}),[j]),{messages:n,setMessages:r,containerRef:s,setLastMessageRef:v}},j=n(1);function b(){var e=v(),t=e.messages,n=e.containerRef,c=e.setLastMessageRef;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Keep Scroll Positon On Chat Re-render"}),Object(j.jsx)("div",{className:"chat",ref:n,children:t.map((function(e,t){return Object(j.jsx)("div",{className:"message ".concat(e.in?"message--in":"message--out"),children:Object(j.jsx)("div",{ref:function(e){return 0===t?c(e):null},children:e.message})},e.id)}))})]})}var O=document.getElementById("root");s.a.render(Object(j.jsx)(c.StrictMode,{children:Object(j.jsx)(b,{})}),O)},26:function(e,t,n){}},[[1516,1,2]]]);
//# sourceMappingURL=main.ad79e61e.chunk.js.map